
<div class="space-y-5">
    <div class="flex items-center space-x-2">
        <i class="pi pi-folder-open"></i>
        <h3 class="text-xl font-semibold ">Apertura por empresa</h3>
    </div>


    <form [formGroup]="yearForm" class="space-y-5 w-1/3">
        <div class="flex gap-5 items-end w-full">
            <div>
                <label>Selecciona el a√±o de apertura</label>
                <p-select
                    [options]="years"
                    optionLabel="year"
                    optionValue="year"
                    appendTo="body"
                    formControlName="year"
                    class="w-full"
                />
            </div>

            <div>
                <p-button
                    label="Ver"
                    icon="pi pi-check"
                    severity="contrast"
                    (click)="getOpeningList()"
                    [loading]="isLoading"
                    [disabled]="isLoading"
                />
            </div>
        </div>

        @if (openingList) {
            <div>
                <label>Selecciona los meses a aperturar</label>
                <p-multi-select
                    [formControl]="toppings"
                    [options]="openingList"
                    [filter]="false"
                    [showHeader]="false"
                    optionLabel="mes_letras"
                    optionValue="id"
                    appendTo="body"
                    class="w-full"
                >
                    <ng-template let-topping #item>
                        <div>{{ topping.anio }}/{{ topping.mes }}</div>
                    </ng-template>
                </p-multi-select>
            </div>

            <div>
                <p-button
                    label="Aperturar"
                    icon="pi pi-folder-open"
                    (click)="openingAction()"
                    [loading]="isOpening"
                />
            </div>
        }
    </form>

</div>
